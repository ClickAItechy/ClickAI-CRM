<div class="container">
    <h2>Create New Lead</h2>
    <form (ngSubmit)="onSubmit()">
        <!-- Personal Info -->
        <h4 class="section-title">Personal Information</h4>
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <label>First Name</label>
                    <input [(ngModel)]="lead.first_name" name="first_name" required>
                </div>
            </div>
            <div class="col-6">
                <div class="form-group">
                    <label>Last Name</label>
                    <input [(ngModel)]="lead.last_name" name="last_name" required>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <div class="form-group">
                    <label>Company Name</label>
                    <input [(ngModel)]="lead.company_name" name="company_name">
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <div class="form-group">
                    <label>Tech Requirements / Project Details</label>
                    <textarea [(ngModel)]="lead.tech_requirements" name="tech_requirements" rows="4"
                        style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;"></textarea>
                </div>
            </div>
        </div>

        <!-- Contact Info -->
        <h4 class="section-title">Contact Information</h4>
        <div class="row">
            <div class="col-12">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" [(ngModel)]="lead.email" name="email" required>
                </div>
            </div>
            <div class="col-12">
                <div class="form-group">
                    <label>Phone</label>
                    <input type="tel" [(ngModel)]="lead.phone" name="phone" required>
                </div>
            </div>
            <div class="col-12">
                <div class="form-group">
                    <label>Lead Generator (Team Member)</label>
                    <select [(ngModel)]="lead.lead_generator" name="lead_generator" required>
                        <option [ngValue]="null">Select Team Member...</option>
                        <option *ngFor="let user of users" [ngValue]="user.id">
                            {{ user.username }} ({{ user.team }})
                        </option>
                    </select>
                </div>
            </div>
            <div class="col-12">
                <div class="form-group">
                    <label>Initial Stage</label>
                    <input [value]="lead.stage" disabled>
                </div>
            </div>
        </div>

        <button type="submit" class="btn" [disabled]="loading">Create Lead</button>
    </form>
</div>